(()=>{var r,c,t,i={4789:(t,e,i)=>{var o=i(9755),l=(i(2564),i(7327),i(1539),i(9826),i(1038),i(8783),i(1249),window.$);window.DispositivoEdit=function(){var d,n="textarea";if(!(this instanceof window.DispositivoEdit))return d=d||new window.DispositivoEdit;d=this,window.DispositivoEdit=function(){return d},d.bindActionsEditorType=function(t){n=this.getAttribute("editortype"),window.SetCookie("editortype",n,30);var e=l(this).closest(".dpt").attr("pk");d.clearEditSelected(),d.triggerBtnDptEdit(e),t.preventDefault()},d.bindActionsClick=function(t){var e=this.getAttribute("pk"),i={action:this.getAttribute("action"),tipo_pk:this.getAttribute("tipo_pk"),perfil_pk:this.getAttribute("perfil_pk"),variacao:this.getAttribute("variacao"),pk_bloco:this.getAttribute("pk_bloco")},e=e+"/refresh";d.waitShow(),l.get(e,i).done(function(t){d.clearEditSelected(),null!=t.pk&&d.message(t)}).fail(d.waitHide).always(d.waitHide)},d.clearEditSelected=function(){l(".dpt-selected > .dpt-form").html(""),l(".dpt-actions, .dpt-actions-bottom").html(""),window.tinymce.remove(),l(".dpt-selected").removeClass("dpt-selected")},d.editDispositivo=function(t){var e,t=t.target.classList.contains("dpt-link")?t.target:t.target.parentElement.classList.contains("dpt-link")?t.target.parentElement:null;t&&t.getAttribute("href")&&0<t.getAttribute("href").length||((t=l(this).closest(".dpt")).hasClass("dpt-selected")?"editor-close"===this.getAttribute("action")&&d.clearEditSelected():(d.clearEditSelected(),d.loadActionsEdit(t),e=t.attr("formtype"),t.on(e,d[e]),d.loadForm(t,e)))},d.gc=function(){setTimeout(function(){l(".dpt:not(.dpt-selected) > .dpt-form").html("")},500)},d.get_form_base=function(){var t=l(this);t.addClass("dpt-selected"),t.children().filter(".dpt-form").find("form").submit(d.onSubmitEditFormBase),d.scrollTo(t),t.off("get_form_base");t.find(".btn-fechar").on("click",function(t){d.clearEditSelected(),t.preventDefault()});var e=t.find(".btns-excluir");t.find(".dpt-actions-bottom").first().append(e),e.find(".btn-outline-danger").on("click",d.bindActionsClick)},d.get_form_alteracao=function(){var e=l(this),t=(e.off("get_form_alteracao"),l(".dpt-actions, .dpt-actions-bottom").html(""),e.children().filter(".dpt-form").children().first()),i=t[0].id_dispositivo_search_form.value;window.DispositivoSearch({url_form:i,text_button:"Selecionar",autostart:!0}),d.scrollTo(e),t.submit(d.onSubmitFormRegistraAlteracao),e.find(".btn-fechar").on("click",function(t){d.clearEditSelected(),d.triggerBtnDptEdit(e.attr("pk")),t.preventDefault()})},d.get_form_inclusao=function(){var e=l(this),t=(e.off("get_form_inclusao"),l(".dpt-actions, .dpt-actions-bottom").html(""),e.children().filter(".dpt-form").children().first()),i=t[0].id_dispositivo_search_form.value;window.DispositivoSearch({url_form:i,text_button:"Selecionar",post_selected:d.allowed_inserts_registro_inclusao,params_post_selected:{pk_bloco:e.attr("pk")},autostart:!0}),d.scrollTo(e),t.submit(d.onSubmitFormRegistraInclusao),e.find(".btn-fechar").on("click",function(t){d.clearEditSelected(),d.triggerBtnDptEdit(e.attr("pk")),t.preventDefault()})},d.get_form_revogacao=function(){var t=l(this),e=(t.off("get_form_revogacao"),l(".dpt-actions, .dpt-actions-bottom").html(""),t.children().filter(".dpt-form").children().first()),i=e[0].id_dispositivo_search_form.value;window.DispositivoSearch({url_form:i,text_button:"Selecionar",autostart:!0}),d.scrollTo(t),e.submit(d.onSubmitFormRegistraRevogacao),t.find(".btn-fechar").on("click",function(){d.clearEditSelected(),d.triggerBtnDptEdit(t.attr("pk"))})},d.allowed_inserts_registro_inclusao=function(t){var e=l("#id"+t.pk_bloco+" input[name='dispositivo_base_para_inclusao']");0!==e.length&&(e=e[0].value,t={action:"get_actions_allowed_inserts_registro_inclusao",pk_bloco:t.pk_bloco},e=e+"/refresh",d.waitShow(),l.get(e,t).done(function(t){l(".allowed_inserts").html(t),l(".allowed_inserts").find(".btn-action").on("click",d.bindActionsClick)}).fail(d.waitHide).always(d.waitHide))},d.loadActionsEdit=function(e){var t=e.attr("pk");l.get(t+"/refresh?action=get_actions").done(function(t){e.find(".dpt-actions").first().html(t),e.find(".btn-action").on("click",d.bindActionsClick),e.find(".btn-compila").on("click",d.loadFormsCompilacao),e.find(".btn-editor-type").on("click",d.bindActionsEditorType),"construct"===n&&(e.find(".btn-group-inserts").first().addClass("open show"),e.find(".btn-group-inserts ul").first().addClass("show")),e.find(".btn-group-inserts button").mouseenter(function(t){e.find(".btn-group-inserts ul").removeClass("show"),e.find(".btn-group-inserts").removeClass("open show"),l(this.parentElement).addClass("open show"),l(this.parentElement).find("ul").addClass("show")}),e.find(".btn-group-inserts").mouseleave(function(t){e.find(".btn-group-inserts ul").removeClass("show"),e.find(".btn-group-inserts").removeClass("open show")}),d.gc()})},d.loadForm=function(e,i){var t=e.attr("pk"),o=e.children().filter(".dpt-form");1===o.length&&l.get(t+"/refresh?action="+i).done(function(t){"construct"!==n&&(o.html(t),"tinymce"===n)&&window.initTextRichEditor(null,!1,!1),e.trigger(i)}).always(function(){d.waitHide()})},d.loadFormsCompilacao=function(t){var e=l(this).closest(".dpt"),i=this.getAttribute("action");e.on(i,d[i]),d.loadForm(e,i)},d.modalMessage=function(t,e,i){return null!==t&&""!==t&&(l("#modal-message #message").html(t),l("#modal-message").modal("show"),l("#modal-message, #modal-message .alert button").off(),l("#modal-message .alert").removeClass("alert-success alert-info alert-warning alert-danger alert-danger"),l("#modal-message .alert").addClass(e),null!=i&&l("#modal-message").on("hidden.bs.modal",i),l("#modal-message .alert button").on("click",function(){l("#modal-message").modal("hide")}),!0)},d.message=function(t){var e,i;void 0!==t.message?t.message.modal?d.modalMessage(t.message.value,"alert-"+t.message.type,function(){d.waitShow(),d.refreshScreenFocusPk(t)}):(d.refreshScreenFocusPk(t),"message"in t&&((e=l(".cp-notify")).removeClass("hide"),(i=e.find(".message")).html(t.message.value),i.removeClass("bg-primary bg-success bg-info bg-warning bg-danger").addClass("bg-"+t.message.type),setTimeout(function(){e.addClass("hide")},t.message.time||3e3))):d.refreshScreenFocusPk(t)},d.offClicks=function(){l(".btn-dpt-edit").off()},d.onClicks=function(t){t=null==t?l(".btn-dpt-edit"):l(t).find(".btn-dpt-edit");t.on("click",d.editDispositivo)},d.onSubmitFormRegistraAlteracao=function(t){var e,i;void 0===this.dispositivo_alterado?d.modalMessage("Nenhum dispositivo selecionado","alert-info"):(e=void 0===this.dispositivo_alterado.length?[this.dispositivo_alterado]:Array.from(this.dispositivo_alterado),e={csrfmiddlewaretoken:this.csrfmiddlewaretoken.value,dispositivo_alterado:e.filter(function(t,e,i){return t.checked}).map(function(t){return t.value}),formtype:"get_form_alteracao"},i=l(this).closest(".dpt").attr("pk")+"/refresh",d.waitShow(),l.post(i,e).done(function(t){d.clearEditSelected(),null!=t.pk?d.message(t):alert("Erro na resposta!")}).always(function(){d.waitHide()})),null!=t&&t.preventDefault()},d.onSubmitFormRegistraInclusao=function(t){var e={csrfmiddlewaretoken:this.csrfmiddlewaretoken.value,dispositivo_base_para_inclusao:this.dispositivo_base_para_inclusao.value,formtype:"get_form_inclusao"},i=l(this).closest(".dpt").attr("pk")+"/refresh";d.waitShow(),l.post(i,e).done(function(t){d.clearEditSelected(),null!=t.pk?d.message(t):alert("Erro na resposta!")}).always(function(){d.waitHide()}),null!=t&&t.preventDefault()},d.onSubmitFormRegistraRevogacao=function(t){var e,i;void 0===this.dispositivo_revogado?d.modalMessage("Nenhum dispositivo selecionado","alert-info"):(e=void 0===this.dispositivo_revogado.length?[this.dispositivo_revogado]:Array.from(this.dispositivo_revogado),e={csrfmiddlewaretoken:this.csrfmiddlewaretoken.value,dispositivo_revogado:e.filter(function(t,e,i){return t.checked}).map(function(t){return t.value}),revogacao_em_bloco:this.revogacao_em_bloco.value,formtype:"get_form_revogacao"},i=l(this).closest(".dpt").attr("pk")+"/refresh",d.waitShow(),l.post(i,e).done(function(t){d.clearEditSelected(),null!=t.pk?d.message(t):alert("Erro na resposta!")}).always(function(t){d.waitHide()})),null!=t&&t.preventDefault()},d.onSubmitEditFormBase=function(t){var i=this,e="",o="",n="",a=window.tinymce.get("id_texto"),s=window.tinymce.get("id_texto_atualizador"),e=null!=a?a.getContent():this.id_texto.value,a=(null!=s?o=s.getContent():"id_texto_atualizador"in this&&(o=this.id_texto_atualizador.value),"visibilidade"in this&&(n=this.visibilidade.value),{csrfmiddlewaretoken:this.csrfmiddlewaretoken.value,texto:e,texto_atualizador:o,visibilidade:n,formtype:"get_form_base"}),s=l(this).closest(".dpt").attr("pk")+"/refresh";d.waitShow(),l.post(s,a).done(function(t){var e;"string"==typeof t?(e=l(i).closest(".dpt"),e=l("#"+e.replaceWith(t).attr("id")),d.onClicks(e),d.waitHide()):(d.clearEditSelected(),null!=t.pk?d.message(t):alert("Erro na resposta!"))}).always(function(){d.waitHide()}),null!=t&&t.preventDefault()},d.refreshContent=function(i,o){var n;0===i.length?d.waitHide():(n=i.shift(),l.get(n+"/refresh").done(function(t){var e=l("#id"+n).closest(".dpt"),e=l("#"+e.replaceWith(t).attr("id"));d.onClicks(e),d.reloadFunctionsDraggables(),0<o&&d.triggerBtnDptEdit(o),d.refreshContent(i)}))},d.refreshScreenFocusPk=function(t){var e;d.waitShow(),-1===t.pai[0]?(d.waitShow(),e=location.href.split("#")[0],location.href=e+"#"+t.pk,location.reload(!0)):d.refreshContent(t.pai,t.pk)},d.reloadFunctionsDraggables=function(){l(".dpt-alts").sortable({revert:!0,distance:15,start:function(t,e){},stop:function(t,e){var i=e.item.attr("pk"),o=e.item.closest(".dpt-alts").closest(".dpt").attr("pk"),i=i+"/refresh?action=json_drag_move_dpt_alterado&index="+e.item.index()+"&bloco_pk="+o;l.get(i).done(function(t){})}}),l(".dpt-alts .dpt").draggable({connectToSortable:".dpt-alts",revert:"invalid",zIndex:1,distance:15,drag:function(t,e){l(".dpt-alts").addClass("drag")},stop:function(t,e){l(".dpt-alts").removeClass("drag")}}),l(".dpt-alts").disableSelection()},d.scrollTo=function(t){try{l("html, body").animate({scrollTop:t.offset().top-window.innerHeight/9},100)}catch(t){}},d.triggerBtnDptEdit=function(t){var e=l("#id"+t+" > .dpt-text.btn-dpt-edit");(e=0===e.length?l("#id"+t+" > .dpt-actions-fixed > .btn-dpt-edit"):e).first().trigger("click")},d.waitHide=function(){l("#wait_message").addClass("displaynone")},d.waitShow=function(){l("#wait_message").removeClass("displaynone")},d.init=function(){l(".dpt-actions-fixed").first().css("opacity","1"),null!==(n=window.ReadCookie("editortype"))&&""!==n||(n="textarea",window.SetCookie("editortype",n,30)),d.offClicks(),d.onClicks(),d.reloadFunctionsDraggables();var t=location.href.split("#");2===t.length&&""!==t[1]&&d.triggerBtnDptEdit(t[1]),l("main").click(function(t){t.target!==this&&t.target!==this.firstElementChild||d.clearEditSelected()}),d.waitHide()},d.init()},l(document).ready(function(){0<o(".cpe").length&&window.DispositivoEdit()})},5985:(t,e,i)=>{"use strict";i(6992),i(8674),i(9601),i(7727),i(9554),i(1539),i(4747),i(3710),i(2130),i(9550),i(2772),i(8221),i(9826),i(7327),i(8862),i(2564),i(7941),i(1058);var o=i(9755),f=window.$;function m(t){f(t).append('<div style="text-align:center;"><i style="font-size: 200%;" class="fa fa-refresh fa-spin"></i></div>')}var n={SetCookie:function(t,e,i){var o=new Date,n=new Date;null!==i&&0!==i||(i=1),n.setTime(o.getTime()+864e5*i),document.cookie=t+"="+escape(e)+";expires="+n.toGMTString()},ReadCookie:function(t){var e,i=" "+document.cookie,o=i.indexOf(" "+t+"=");return-1===(o=-1===o?i.indexOf(";"+t+"="):o)||""===t?"":(-1===(e=i.indexOf(";",o+1))&&(e=i.length),unescape(i.substring(o+t.length+2,e)))},insertWaitAjax:m,InitViewTAs:function(){setTimeout(function(){var t=location.href.split("#");if(2===t.length)try{o("html, body").animate({scrollTop:o("#dptt"+t[1]).offset().top-window.innerHeight/9},0)}catch(t){}},100),o("#btn_font_menos").click(function(){o(".dpt").css("font-size","-=1")}),o("#btn_font_mais").click(function(){o(".dpt").css("font-size","+=1")}),o(".dpt.bloco_alteracao .dpt").each(function(){var t=parseInt(o(this).attr("nivel"));o(this).css("z-index",15-t)}),o(".cp-linha-vigencias > li:not(:first-child):not(:last-child) > a").click(function(t){o(".cp-linha-vigencias > li").removeClass("active"),o(this).closest("li").addClass("active"),t.preventDefault()}),o("main").click(function(t){t.target!==this&&t.target!==this.firstElementChild||o(".cp-linha-vigencias > li").removeClass("active")})},DispositivoSearch:function(d){f(function(){var u={},s=f("body").children("#container_ds");0<s.length&&f(s).remove(),s=f('<div id="container_ds"/>'),f("body").prepend(s),f('[data-sapl-ta="DispositivoSearch"]').each(function(){function e(t){var e;"checkbox"===r?((e=a.find('input[name="ta_select_all"]')).off(),e.on("change",function(t){f(this).closest("ul").find('input[name="'+c+'"]').prop("checked",this.checked)})):((e=a.find("input")).off(),e.attr("type","hidden"),f('<a class="text-danger">').insertBefore(e).append(f('<span aria-hidden="true">&times;</span>')).on("click",function(){(2===f(this).closest("ul").find("li").length?f(this).closest("ul"):f(this).closest("li")).remove()}))}function o(t){var e=f('select[name="tipo_ta"]').val(),i=f('select[name="tipo_model"]').val(),o=f('input[name="num_ta"]').val(),n=f('input[name="ano_ta"]').val(),a=f('input[name="tipo_resultado"]:checked').val(),s=f('input[name="rotulo_dispositivo"]').val(),d=f('input[name="texto_dispositivo"]').val(),l=f('select[name="max_results"]').val();0<s.length||0<d.length?(f('input[name="tipo_resultado"]').prop("disabled",!1),f('input[name="tipo_resultado"]').each(function(t,e){e.parentElement.classList.remove("disabled")}),f('input[name="tipo_resultado"]').closest("#div_id_tipo_resultado").css("opacity","1")):(f('input[name="tipo_resultado"]').filter('[value="False"]').prop("checked",!0),f('input[name="tipo_resultado"]').prop("disabled",!0),f('input[name="tipo_resultado"]').each(function(t,e){e.parentElement.classList.add("disabled")}),f('input[name="tipo_resultado"]').closest("#div_id_tipo_resultado").css("opacity","0.3"),a="False"),u={tipo_ta:e,tipo_model:i,num_ta:o,ano_ta:n,texto:d,rotulo:s,tipo_resultado:a,max_results:l,data_type_selection:r,data_field:c,data_function:p},window.localStorage.setItem("dispositivo_search_form_data",JSON.stringify(u)),f(".result-busca-dispositivo").html(""),m(".result-busca-dispositivo"),f.get("/ta/search_fragment_form",u).done(function(t){f(".result-busca-dispositivo").html(t),"checkbox"===r&&((t=f(".result-busca-dispositivo").find('input[name="ta_select_all"]')).off(),t.on("change",function(t){f(this).closest("ul").find('input[name="'+c+'"]').prop("checked",this.checked)}))})}function n(t){var e=f('input[name="rotulo_dispositivo"]').val(),i=f('input[name="texto_dispositivo"]').val();0<e.length||0<i.length?(f('input[name="tipo_resultado"]').prop("disabled",!1),f('input[name="tipo_resultado"]').each(function(t,e){e.parentElement.classList.remove("disabled")}),f('input[name="tipo_resultado"]').closest("#div_id_tipo_resultado").css("opacity","1")):(f('input[name="tipo_resultado"]').filter('[value="False"]').prop("checked",!0),f('input[name="tipo_resultado"]').prop("disabled",!0),f('input[name="tipo_resultado"]').each(function(t,e){e.parentElement.classList.add("disabled")}),f('input[name="tipo_resultado"]').closest("#div_id_tipo_resultado").css("opacity","0.3"))}var a=f(this),r=a.attr("data-type-selection"),c=a.attr("data-field"),p=a.attr("data-function"),t=(e(),a.children("#buttonDs")),i=(0<t.length&&f(t).remove(),t=f('<div id="buttonDs" class="clearfix"/>'),a.prepend(t),f("<button>").text(d.text_button).attr("type","button").attr("class","btn btn-sm btn-success btn-modal-open"));t.append(i),i.on("click",function(){f.get(d.url_form,function(t){s.html(t);var i=f("#modal-ds");i.find('select[name="tipo_ta"]').change(function(t){var e="/ta/search_fragment_form?action=get_tipos&tipo_ta="+this.value,o=(i.find('label[for="id_tipo_model"]').html("Tipos de "+this.children[this.selectedIndex].innerHTML),i.find('select[name="tipo_model"]'));o.empty(),f('<option value="">Carregando...</option>').appendTo(o),f.get(e).done(function(t){for(var e in o.empty(),t)for(var i in t[e])o.append(f("<option>").attr("value",i).text(t[e][i]));setTimeout(function(){f('select[name="tipo_model"]').val(u.tipo_model)},200)})}),i.find('input[name="texto_dispositivo"], input[name="rotulo_dispositivo"]').on("keyup",n),i.find(".btn-busca").click(o),i.find("#btn-modal-select").click(function(){var t=a.find("ul"),t=("radio"===r&&t.remove(),i.find('[name="'+c+'"]:checked'));t.closest("ul").find("input:not(:checked)").filter('[name!="ta_select_all"]').closest("li").remove(),t.closest("ul").each(function(){var t=a.find("#"+this.id);0===t.length?a.append(this):f(this).find("input").each(function(){0<t.find("#"+this.id).length||t.append(f(this).closest("li"))})}),e(),i.modal("hide"),"post_selected"in d&&d.post_selected(d.params_post_selected)});try{u=JSON.parse(window.localStorage.getItem("dispositivo_search_form_data")),f('input[name="num_ta"]').val(u.num_ta),f('input[name="ano_ta"]').val(u.ano_ta),f('input[name="rotulo_dispositivo"]').val(u.rotulo),f('input[name="texto_dispositivo"]').val(u.texto),f('select[name="max_results"]').val(u.max_results),f('input[name="tipo_resultado"]').filter('[value="'.concat(u.tipo_resultado,'"]')).attr("checked",!0)}catch(t){}setTimeout(function(){try{f('select[name="tipo_ta"]').val(u.tipo_ta),f('select[name="tipo_ta"]').trigger("change")}catch(t){}},200),i.modal("show")})}),"autostart"in d&&d.autostart&&i.trigger("click")})})}},a=(i(4916),i(4765),i(9755)),s=window.$,d=i(9479);function l(t){t=(t="function"==typeof a&&t instanceof a?t[0]:t).getBoundingClientRect();return 0<=t.top&&0<=t.left&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function r(t,e){for(var i=null,o=s(".dptt"),n=0;n<o.length;n++)if(!s(o[n]).hasClass("displaynone")&&l(o[n])){i=n+1<o.length?o[n+1]:o[n];break}if(s(".cp .tipo-vigencias a").removeClass("active"),s(t).addClass("active"),s(".dptt.desativado").addClass("displaynone"),s(".desativado > .dn").addClass("displaynone"),s(".desativado > .dpt-img").addClass("displaynone"),s(".nota-alteracao").removeClass("displaynone"),s(".dptt.revogado").removeClass("displaynone"),e||s(".nota-alteracao").addClass("displaynone"),i)try{s("html, body").animate({scrollTop:s(i).parent().offset().top-60},0)}catch(t){}}var c={isElementInViewport:l,textoMultiVigente:function(t,e){for(var i=null,o=s(".dptt"),n=0;n<o.length;n++)if(!s(o[n]).hasClass("displaynone")&&l(o[n])){i=n+1<o.length?o[n+1]:o[n];break}if(s(".cp .tipo-vigencias a").removeClass("active"),s(t).addClass("active"),s(".dptt.desativado").removeClass("displaynone"),s(".desativado > .dn").removeClass("displaynone"),s(".desativado > .dpt-img").removeClass("displaynone"),s(".dptt.revogado").removeClass("displaynone"),s(".dtxt").removeClass("displaynone"),s(".dtxt.diff").remove(),s(".nota-alteracao").removeClass("displaynone"),e&&s('.dtxt[id^="da"').each(function(){var t,e,i,o,n;0<s(this).html().search(/<\/\w+>/g)||(t=s(this).attr("pk"),e=s(this).attr("pks"),o=s("#d"+e).contents().filter(function(){return this.nodeType===Node.TEXT_NODE}),i=s("#da"+t).contents().filter(function(){return this.nodeType===Node.TEXT_NODE}),0<(o=d.diffWordsWithSpace(s(o).text(),s(i).text())).length&&(s("#d"+e).closest(".desativado").addClass("displaynone"),n=s("#da"+t).clone(),s("#da"+t).after(n),s("#da"+t).addClass("displaynone"),s(n).addClass("diff").html(""),o.forEach(function(t){var e=document.createElement("span"),i=t.value;t.removed?(s(e).addClass("desativado"),i+=" "):t.added&&s(e).addClass("added"),e.appendChild(document.createTextNode(i)),s(n).append(e)})))}),i)try{s("html, body").animate({scrollTop:s(i).parent().offset().top-60},0)}catch(t){}},textoVigente:r,textoVigenteSemRevogados:function(t,e){r(t,e),s(".dptt.revogado").addClass("displaynone")}},p=window.$;function u(i,t){p("html, body").animate({scrollTop:p("#dne"+i).offset().top-window.innerHeight/5},300),window.refreshDatePicker(),p("#dne"+i+" #button-id-submit-form").click(h),p("#dne"+i+" .btn-close-container").click(function(){p(this).closest(".dne-nota").removeClass("dne-nota"),p(this).closest(".dne-form").html("")}),"nota"===t?p("#dne"+i+' select[name="tipo"]').change(function(t){var e="text/"+i+"/nota/create?action=modelo_nota&id_tipo="+this.value;p.get(e).done(function(t){p("#dne"+i+' textarea[name="texto"]').val(t)})}):"vide"===t&&window.DispositivoSearch({url_form:"/ta/search_form",text_button:"Definir Dispositivo"})}function h(t){var e,i="",o="nota",n=p("#id_dispositivo").val();void 0===n&&(n=p("#id_dispositivo_base").val(),o="vide"),e=p("#id_pk").val(),i="text/"+n+"/"+o+"/",p.post(i+=null===e||""===e?"create":e+"/edit",p("#dne"+n+" form").serialize(),function(t){if("string"==typeof t)if(0<=t.indexOf("<form"))p("#dne"+n+" .dne-form").html(t),u(n,o);else{p("#dne"+n+" .dne-form").closest(".dpt").html(t),g();try{p("html, body").animate({scrollTop:p("#dne"+n).offset().top-window.innerHeight/3},300)}catch(t){}}})}function v(t){var e=p(t).attr("model"),i=p(t).closest(".dn").attr("pk"),t=p(t).attr("pk");p.get("text/"+i+"/"+e+"/"+t+"/delete",function(t){p("#dne"+i+" .dne-form").closest(".dpt").html(t),g()})}function g(){p(".dne-nota").removeClass("dne-nota"),p(".dne-form").html(""),p(".dne .btn-action").off(),p(".dn .btn-action").off(),p(".dne .btn-action, .dn .btn-action").not(".btn-nota-delete").not(".btn-vide-delete").click(function(){var t,e,i,o,n;i="",o=p(t=this).attr("model"),null!=(n=p(".dne-nota .dne-form").closest(".dne").attr("pk"))&&(p("#dne"+n).removeClass("dne-nota"),p("#dne"+n+" .dne-form").html("")),0<=t.className.indexOf("create")?i="text/"+(n=p(t).attr("pk"))+"/"+o+"/create":0<=t.className.indexOf("edit")&&(e=p(t).attr("pk"),i="text/"+(n=p(t).closest(".dn").attr("pk"))+"/"+o+"/"+e+"/edit"),p("#dne"+n).addClass("dne-nota"),p.get(i).done(function(t){p("#dne"+n+" .dne-form").html(t),u(n,o)}).fail(function(){g()})}),p(".dn .btn-nota-delete, .dn .btn-vide-delete").click(function(){v(this)})}var _={onEventsDneExec:u,onSubmitEditNVForm:h,onDelete:v,onReadyNotasVides:g},b=(i(4789),i(6486)),i=i(9755);b.forEach(b.merge(b.merge(n,_),c),function(t,e){window[e]=t}),i(document).ready(function(){window.InitViewTAs(),window.onReadyNotasVides()})}},o={};function p(t){var e=o[t];return void 0!==e||(e=o[t]={id:t,loaded:!1,exports:{}},i[t].call(e.exports,e,e.exports,p),e.loaded=!0),e.exports}p.m=i,r=[],p.O=(t,e,i,o)=>{if(!e){for(var n=1/0,a=0;a<r.length;a++){for(var s,[e,i,o]=r[a],d=!0,l=0;l<e.length;l++)(!1&o||o<=n)&&Object.keys(p.O).every(t=>p.O[t](e[l]))?e.splice(l--,1):(d=!1,o<n&&(n=o));d&&(r.splice(a--,1),void 0!==(s=i()))&&(t=s)}return t}o=o||0;for(var a=r.length;0<a&&r[a-1][2]>o;a--)r[a]=r[a-1];r[a]=[e,i,o]},p.d=(t,e)=>{for(var i in e)p.o(e,i)&&!p.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},p.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),p.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),p.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},p.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),p.j=642,c={642:0},p.O.j=t=>0===c[t],e=(t,e)=>{var i,o,n,[a,s,d]=e,l=0;if(a.some(t=>0!==c[t])){for(i in s)p.o(s,i)&&(p.m[i]=s[i]);d&&(n=d(p))}for(t&&t(e);l<a.length;l++)o=a[l],p.o(c,o)&&c[o]&&c[o][0](),c[o]=0;return p.O(n)},(t=self.webpackChunksapl_frontend=self.webpackChunksapl_frontend||[]).forEach(e.bind(null,0)),t.push=e.bind(null,t.push.bind(t));var e=p.O(void 0,[998],()=>p(5985));p.O(e)})();