{% extends "crud/detail.html" %}
{% load i18n crispy_forms_tags %}
{% block detail_content %}

    {% if not show_results %}
        {% crispy filter.form %}
    {% else %}
        {% if object_list|length > 0 %}
            {% if object_list|length == 1 %}
                <h3 style="text-align: right;">{% trans 'Pesquisa conclu√≠da com sucesso! Foi encontrado 1 documento.'%}</h3>
            {% else %}
                <h3 style="text-align: right;">Foram encontrados {{object_list|length}} documentos.</h3>
            {% endif %}
            {% crispy form %}
        {% else %}
            <tr><td><h3 style="text-align: right;">Nenhum documento encontrado.</h3></td></tr>
        {% endif %}

    {% endif%}
{% endblock detail_content %}

{% block extra_js %}
	<script language="JavaScript">
		function checkAll(elem) {
      let checkboxes = document.getElementsByName('documentos');
      for (let i = 0; i < checkboxes.length; i++) {
        if (checkboxes[i].type == 'checkbox') 
            checkboxes[i].checked = elem.checked;
      }
    }

    $(document).ready(function(){
      var primeira_tramitacao = {{primeira_tramitacao|yesno:"true,false"}}

      if (primeira_tramitacao == false){
        $('#id_unidade_tramitacao_local').prop('disabled', true);
      }

      // Reabilita o campo, no momento do Submit, para que seu dado seja enviado
      $('input[type=submit]').click(function() {
        $('#id_unidade_tramitacao_local').attr('disabled', false);
        $('#id_unidade_tramitacao_local').parents('form').submit();
      });
    });
	</script>
{% endblock %}
