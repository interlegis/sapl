{% load i18n %}
{% load crispy_forms_tags %}
{% load static %}
{% load webpack_static from webpack_loader %}
{% block detail_content %}
<style xmlns:max-width="http://www.w3.org/1999/xhtml">
		table {
			width: 100%;
		}
		table, th, td {
			border: 1px solid black;
			border-collapse: borda-prot;
		}
		th, td {
			padding: 5px;
		}
		@media print {
    		.hide-print {
        		display :  none;
    		}
		}
    	@page {
        	size:  auto;   /* auto is the initial value */
        	margin: 0mm;  /* this affects the margin in the printer settings */
    	}
	</style>

	<div align="center">
		<input type="submit" value="Imprimir" onclick="window.print();" class="btn btn-success hide-print"/>
		<input type="submit" value="Fechar" onclick="window.close();" class="btn btn-success hide-print"/>
	</div>
	<table>
		<tr><td colspan="2" align="center">
				<img height="90" width="90"
				     src="{% if logotipo %}{{ MEDIA_URL }}{{ logotipo }}{% else %}{% webpack_static 'img/logo.png' %}{% endif %}"
						 alt="Logotipo"
						 class="img-responsive visible-lg-inline-block vcenter">
				<div>
					{% if nome %}
						<b>{{ nome }} - {{ municipio }} - {{ uf }}</b>
					{% else %}
						<b>{% trans 'Sem Nome Cadastrado' %}</b>
					{% endif %}
					<br />
					{% trans 'Sistema de Apoio ao Processo Legislativo' %}
				</div>
			</td>
		</tr>
		<tr> <td colspan="2" align="center"><b>COMPROVANTE DE PROTOCOLO</b></td> </tr>

		<tr>
			<td>
				<center>
					<img src="{{barcode}}" height="50px" width="170px">
					<br>
					{{ protocolo.numero|stringformat:'06d' }}
				</center>
			</td>
			<td align="center">Autenticação: {{ autenticacao }}</td>
		</tr>

		<tr>
			<th>Número / Ano</th>
			<td>{{ protocolo.numero|stringformat:'06d' }}/{{ protocolo.ano }}</td>
		</tr>
		<tr>
			<th>Data / Horário</th>
			{% if protocolo.timestamp %}
				<td>{{ protocolo.timestamp|date:"d/m/Y" }} - {{ protocolo.timestamp|date:"H:i:s" }}</td>
			{% else %}
				<td>{{ protocolo.data|date:"d/m/Y" }} - {{ protocolo.hora|date:"H:i:s" }}</td>
			{% endif %}
		</tr>
		{% if protocolo.tipo_processo == 1 %}
			<tr>
				<th>Ementa</th>
				<td>{{ protocolo.assunto_ementa }}</td>
			</tr>
			<tr>
				<th>Autor</th>
				<td>{{ protocolo.autor }}</td>
			</tr>
        {% else %}
            <tr>
                    <th>Assunto</th>
                    <td>{{ protocolo.assunto_ementa }}</td>
            </tr>
            <tr>
                    <th>Interessado</th>
                    <td>{{ protocolo.interessado }}</td>
            </tr>
		{% endif %}
		<tr>
			<th>Natureza</th>
			<td>
				{% if protocolo.tipo_processo == 0 %} Administrativo {% elif protocolo.tipo_processo == 1 %} Legislativo {% endif %}
			</td>
		</tr>
		<tr>
			<th>{% if protocolo.tipo_documento %} Tipo Documento {% else %} Tipo Matéria {% endif %}</th>
			<td>{% if protocolo.tipo_documento %} {{protocolo.tipo_documento}} {% else %} {{protocolo.tipo_materia}} {% endif %}</td>
		</tr>
		<tr>
			<th>Número Páginas</th>
			<td>{{ protocolo.numero_paginas }}</td>
		</tr>
		<tr>
			<th>Comprovante emitido por</th>
			<td>{{ request.user.username }}</td>
		</tr>
	</table>
{% endblock detail_content %}
