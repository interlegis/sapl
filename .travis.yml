services:
  - docker
sudo: required
env:
  - DOCKER_COMPOSE_VERSION: 1.17.1

before_install:
        #  - sudo apt-get update
        #  - sudo apt-get install -o Dpkg::Options::="--force-confold" --force-yes -y docker-ce 
    - docker-compose --version
    - whereis docker-compose
    #  - sudo rm /usr/local/bin/docker-compose
    #  - curl -L https://github.com/docker/compose/releases/download/${DOCKER_COMPOSE_VERSION}/docker-compose-`uname -s`-`uname -m` > docker-compose
    #  - chmod +x docker-compose
    #  - sudo mv docker-compose /usr/local/bin
    - sudo cp /usr/local/bin/docker-compose /usr/bin/docker-compose
    #  - sudo apt-get install -y --force-yes python python-dev py-pip build-base libffi-dev openssl-dev libgcc
    #  - pip install docker-compose

script:
  - /usr/local/bin/docker-compose -f docker-compose.test.yml -p sapl-ci build
  - /usr/local/bin/docker-compose -f docker-compose.test.yml -p sapl-ci up
