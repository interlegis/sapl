language: python
sudo: true

python:
  - "3.4.3"

services:
  - postgresql

install:
  - sudo apt-get install git nginx python3-dev libpq-dev graphviz-dev graphviz pkg-config postgresql postgresql-contrib pgadmin3 python-psycopg2 nodejs npm
  - pip install -r requirements/test-requirements.txt
  - sudo ln -s /usr/bin/nodejs /usr/bin/node
  - sudo npm install -g bower

before script:
  - psql -c 'create database travis_ci_test;' -U postgres
  - npm install -g bower
  - bower install
  - manage.py migrate

script: ./test_and_check_qa.sh